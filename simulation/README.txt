Please ignore the simulation stuff. I've also renamed the extensions so that Arduino won't compile them.